# 0502 강의노트

## 템플릿 엔진
정적 파일은 한 번 만들면 고정이다.
항목을 100개 정도 올려야 한다면? 일일이 다 쓸건가? 항목이 수시로 바뀌면 그때마다 html 코드수정이 필수다.
html은 프로그래밍적 요소가 없다.
변수, for문, 제어문 사용 불가
어차피 react, vue.js는 상관없다
fe framework를 다루지 않으니까, 고려사항 X
html로만 해야 하는데, 이걸 쉽게 프로그래밍적 요소를 덧붙일수 있게 해주는 게 템플릿 엔진이다.
ejs, pug, nunjucks 중 하나를 쓴다.
html과 유사하다
코드 내부에서 변수 사용이 가능하다. like tymeleaf 같은 거
html 코드 변경이 아니라, 태그 내부에서 변수 넣고 반복문으로 서버에서 전달하는 데이터만 넣는다.
웹 브라우저에서는 반복문으로 써서 만든 템플릿 파일을 템플릿 엔진으로 합해서 보여준다.
html > 템플릿 엔진 > 템플릿 파일

pug만 사용 방식이 다르다. 우리는 ejs로 할거다.
============================================
여기부터 수요일에 강의한다.


# 0504 강의노트
html이 익숙하면 EJS가 편하다
ejs가 간단해서 이걸로 템플릿 엔진을 어떤 식으로 사용할 수 있는 지만 볼 거다.

템플릿 엔진을 사용하려면, 
app.set() > port 설정할 때, 이걸 사용했다. 
app.set()으로 설정하는 건 서버가 살아있는 동안 유지되는 값이다.
views를 설정한다. 이건 템플릿 폴더에 따로 저장하도록 해준다. 아, views가 폴더 지칭하는 별칭이다.
view engine은 사용할 템플릿 엔진 설정하는 거다.
app.set(views, [폴더]);
app.set(view engine, [템플릿 엔진]);

렌더링
render()를 사용한다. 첫번째 인자로 ejs 확장자 파일을 써준다. res.sendFile() -> res.render() 대신한다. 그리고 이걸 하면, 응답 종료다.

템플릿 파일에 데이터 전달하는 방법이 2가지이다.
1. res.render()
2. res.locals에 저장
    * 이후에 다른 미들웨어에서도 locals 안에 들어있는 값을 사용할 수 있다는 게 장점이다.

### EJS 실습
설치 
npm i ejs
문법
<% 코드 %>
<%= 변수  %>

### 넌적스
{{변수}}

레이아웃이라는 틀을 전체적으로 만들어두고, 그 안에 들어가는 콘텐츠만을 별도로 만든다. 코드가 간단해진다. 


### PUG
예제 코드를 보면서 설명을 해주셨다.
근데, 이건 잘 안쓸 거 같다.


## 템플릿 엔진 장점
코드가 간단해진다.
